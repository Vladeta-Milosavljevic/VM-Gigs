{% extends "base.html" %}
{% load i18n static %}

{% block content %}

{% if validlink %}

<p>{% translate "Please enter your new password twice so we can verify you typed it in correctly." %}</p>

<form method="post">{% csrf_token %}
    <fieldset class="module aligned">

        <div class="mb-3 row">
            <label for="username" class="col-sm-2 col-form-label">Username</label>
            <div class="col-sm-10">
                <input type="text" readonly class="form-control-plaintext" id="username"
                    value="{{ form.user.get_username }}">
            </div>
        </div>
        <div class="mb-3 row">
            {{ form.new_password1.errors }}
            <label for="id_new_password1" class="col-sm-2 col-form-label">{% translate 'New password:' %}</label>
            <div class="col-sm-10">
                <input type="password" class="form-control" id="id_new_password1" name="new_password1">
            </div>
        </div>
        <div class="mb-3 row">
            {{ form.new_password2.errors }}
            <label for="id_new_password2" class="col-sm-2 col-form-label">{% translate 'Confirm password:' %}</label>
            <div class="col-sm-10">
                <input type="password" class="form-control" id="id_new_password2" name="new_password2">
            </div>
        </div>

        <input type="submit" class="btn btn-primary" value="{% translate 'Change my password' %}">
    </fieldset>
</form>

{% else %}

<p>{% translate "The password reset link was invalid, possibly because it has already been used.  Please request a new password reset." %}
</p>

{% endif %}

{% endblock %}